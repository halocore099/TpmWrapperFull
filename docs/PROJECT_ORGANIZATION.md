# Project Organization

This document describes the organization of files and directories in the TPM Client project.

## Directory Structure

```
TpmWrapperFull/
├── build/              # CMake build directory (generated)
├── docs/               # All documentation files
├── libs/               # Third-party dependencies (wolfTPM, cJSON)
├── scripts/            # Helper scripts for building and setup
├── src/                # Source code
├── build.bat           # Main Windows build script
├── build.sh            # Main Linux/macOS build script
└── README.md           # Main project README
```

## Documentation (`docs/`)

All documentation files are organized in the `docs/` directory:

### Setup Guides
- **WINDOWS_BUILD.md** - Windows build instructions
- **VS_BUILD_TOOLS_SETUP.md** - Visual Studio Build Tools setup checklist
- **CURSOR_VS_ENV_SETUP.md** - Setting up Visual Studio environment in Cursor IDE

### Testing Guides
- **WINDOWS_TESTING.md** - Complete Windows testing guide (build, test, troubleshoot)

### Integration
- **API_VERIFICATION.md** - API verification documentation

## Scripts (`scripts/`)

Helper scripts for development and setup:

### Windows Scripts
- **setup_vs_env.ps1** - Launches VS Developer PowerShell (for Cursor integration and manual use)

### Linux/macOS Scripts
- **start_swtpm.sh** - Starts swtpm simulator
- **test_client.sh** - Runs client tests

See `scripts/README.md` for detailed usage.

## Main Build Scripts (Root)

These are the primary entry points for building:

- **build.bat** - Windows build script (auto-detects architecture, downloads deps)
- **build.sh** - Linux/macOS build script

## Source Code (`src/`)

- **tpm_wrapper.c/h** - Core TPM operations (EK, AIK, attestation, credential activation)
- **platform_tpm.c/h** - Platform-specific TPM initialization (Windows TBS, Linux /dev/tpm0, macOS swtpm)
- **http_client.c/h** - HTTP client for server communication
- **json_utils.c/h** - JSON parsing utilities
- **base64.c/h** - Base64 encoding/decoding
- **logger.c/h** - Logging utilities


## Dependencies (`libs/`)

- **wolfTPM/** - TPM 2.0 client library (uses Windows TBS on Windows)
- **cJSON/** - JSON parsing library

## Build Output (`build/`)

Generated by CMake. Contains:
- Compiled binaries in `build/bin/Release/`
- Libraries in `build/lib/Release/`
- CMake cache and project files

## Notes

- The `build/` directory is generated and can be safely deleted (will be recreated on next build)
- All documentation has been moved to `docs/` for better organization
- Helper scripts are in `scripts/` to keep the root directory clean
- Main build scripts remain in root for easy access

